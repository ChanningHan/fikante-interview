# 计算机网络



## 目录

[TOC]

<hr/>



## 好文推荐
- [精读《图解HTTP》 - 白霸天的文章 - 知乎](https://zhuanlan.zhihu.com/p/38548737)
- [超用心的HTTP详解，新手再也不用担心看不懂了 - 慕课网的文章 - 知乎](https://zhuanlan.zhihu.com/p/69768136)




<hr/>

##  1.讲讲http的基本结构？

- [http的基础结构(已失效)](http://47.98.159.95/my_blog/http/001.html#起始行)

- [图解HTTP学习笔记（二）—HTTP协议结构](https://zhuanlan.zhihu.com/p/62304699)

- [扒一扒HTTP的构成 - MrPeak的文章 - 知乎](https://zhuanlan.zhihu.com/p/24314977)

HTTP报文结构：

1. 请求：

   - 请求行	（请求方法、URI、HTTP版本）

   - 首部字段

2. 响应：

   - 状态行（HTTP版本、状态码、状态原因描述短语）
   - 首部字段

首部字段包括：

- 通用首部字段
- 请求首部字段
- 响应首部字段
- 实体首部字段






##  2.说说常用的http状态码？

[http状态码](https://link.juejin.cn?target=http%3A%2F%2F47.98.159.95%2Fmy_blog%2Fhttp%2F004.html%23_1xx)





## 3.浏览器从输入url到渲染页面，发生了什么？

[细说浏览器输入URL后发生了什么](https://juejin.cn/post/6844904054074654728)







##  4.讲讲你对cookie的理解？包括SameSite属性。

[预测最近面试会考 Cookie 的 SameSite 属性](https://juejin.cn/post/6844904095711494151)

> 这篇文章可以主要讲chrome80新增的cookie的SameSite属性，另外对于cookie整体也可以复习和回顾一遍，非常棒~





##  5. 谈谈https的原理？为什么https能保证安全？

[谈谈 HTTPS](https://juejin.cn/post/6844903504046211079)

> https也是一个高频考点，需要过一遍https的加密原理。
>



    scratchGui: GuiReducer,


## 6.谈谈前端的安全知识？XSS、CSRF，以及如何防范。

[寒冬求职之你必须要懂的Web安全](https://juejin.cn/post/6844903842635579405)

> 安全问题也是很多公司必问的，毕竟谁也不希望自己的前端写的网站漏洞百出嘛。







##  7.讲讲http的缓存机制吧，强缓存，协商缓存？

[深入理解浏览器的缓存机制](https://link.juejin.cn?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2F54cc04190252)

> 浏览器缓存基本上是必问的，这篇文章非常值得一看。







##  8.http协议发展历史

推荐阅读阮一峰老师的[HTTP协议入门](https://www.ruanyifeng.com/blog/2016/08/http.html)这篇文章，

文章内容通俗易懂，读完后对http协议的一个发展历程有一个清晰的概念，

并且能理解到每个版本更迭背后的原因，解决了哪些痛点以及如何解决，比起死记硬背，充分理解后的记忆才更具系统性（迁移能力，所谓融会贯通）、持续性以及热启动（复习时只需要对相关概念瞄一眼即可轻松回忆起相关知识）。



以下是我根据文章整理的摘要：

### HTTP /0.9

- 只有一个GET请求方法
- 协议规定返回内容只能是HTML格式的字符串（内容格式单一）
- 发起请求即建立TCP连接，发送完毕关闭TCP连接（性能开销大，每次请求都经过TCP连接的建立与关闭）

### HTTP /1.0

- 引入POST、HEAD请求方法（命令）

- 头信息必须是ASCII格式，任何格式的内容都可发送（图像、视频、二进制文件等）（Content-Type）

- 每次通信都需要包含头信息（HTTP header），用于描述元数据

- 新增了状态码、多字符集支持、多部分发送（multipart-type）、权限（authorization）、缓存（cache）、内容编码（content encoding）等

  > **字符集（Charcater Set或Charset）：**是一个系统支持的所有抽象字符的集合，也就是一系列字符的集合。字符是各种文字和符号的总称，包括各国家文字、标点符号、图形符号、数字等。常见的字符集有：ASCII字符集、GB2312字符集(主要用于处理中文汉字)、GBK字符集(主要用于处理中文汉字)、Unicode字符集等。
  >
  > **字符编码（Character Encoding）：**是一套法则，使用该法则能够对自然语言的字符的一个字符集（如字母表或音节表），与计算机能识别的二进制数字进行配对。即它能在符号集合与数字系统之间建立对应关系，是信息处理的一项基本技术。通常人们用符号集合（一般情况下就是文字）来表达信息，而计算机的信息处理系统则是以二进制的数字来存储和处理信息的。字符编码就是将符号转换为计算机能识别的二进制编码。
  >
  > 一般一个字符集等同于一个编码方式，ANSI体系(ANSI是一种字符代码，为使计算机支持更多语言，通常使用 0x80~0xFF 范围的 2 个字节来表示 1 个字符)的字符集如ASCII、ISO 8859-1、GB2312、GBK等等都是如此。一般我们说一种编码都是针对某一特定的字符集。 
  > 一个字符集上也可以有多种编码方式，例如UCS字符集(也是Unicode使用的字符集)上有UTF-8、UTF-16、UTF-32等编码方式。
  >
  > 资料来源：https://www.kancloud.cn/digest/visualstudio/110072

- 请求的第一行是请求命令，如GET  / HTTP/1.0

- 回应的格式是头信息 + 一个空行（`\r\n`） + 数据，其中，第一行是"协议版本 + 状态码（status code） + 状态描述"，如HTTP/1.0 200 OK

- Accept声明可接受的数据格式

- Content-Encoding声明数据的压缩方式（gzip、compress、deflate），Accept-Encoding声明接受的压缩方式，如Accept-Encoding: gzip, deflate

缺点：

- 仍然是一个请求一个TCP连接，发送完即关闭，为了解决这个问题部分浏览器在请求时使用了非标准的Connection:keep-alive来要求服务器不要关闭TCP连接。（不能在一个TCP连接中同时发起多个请求）



### HTTP/1.1

97年发布

- 最大变化是引入了持久连接（persistent connection），即TCP连接默认不关闭，可以被多个请求复用，不需要声明connection：keep-alive
  - 客户端可以在发送最后一个请求时附带connection：close明确要求服务器关闭TCP连接
  - 对同一个域名的持久连接有数量限制，视浏览器而不同（大约6个）
- 管道机制，在同一个TCP连接中可以发送多个请求，但服务器依然会按照发送顺序处理请求，因此如果前面的请求处理时间特别久后面的请求就会被阻塞，这就是队头阻塞
- 1.1可以用Content-Length来标记数据块的长度，当为0时说明发送完成，但必须等服务处理完才知道大小。（1.0不需要，因为一个TCP只有一个请求，关闭即完成）
- 为了减缓多个请求的阻塞可以用流模式（stream）或缓存模式（buffer），产生一块数据就发送一块数据，因此1.1可以使用Transfer-Encoding字段表明回应将有数量未定的数据块组成。Transfer-Encoding: chunked。每个非空的数据块之前，会有一个16进制的数值，表示这个块的长度。
- 1.1还增加了PUT、PATCH、HEAD、OPTIONS、DELETE方法
- 客户端的请求头增加了Host字段声明来指定服务器的域名。有了Host字段，就可以将请求发送到同一台服务器上的不同网站，为虚拟主机打下基础。

缺点：

- 虽然1.1允许复用TCP连接，但仍然是按次序响应请求的，只有处理完一个回应，才会进行下一个回应，存在队头阻塞问题。
  - 解决方法1：减少请求数（如合并脚本和样式表、图片嵌入CSS代码）
  - 解决方法2：多开持久连接（如域名分片）

### HTTP/2

09年谷歌发布SPDY协议，主要解决1.1的效率问题，验证后作为HTTP2的基础。

- 无子版本、下一个版本将是3
- 彻底的二进制协议，头信息和数据都是二进制，统称为帧（frame），头信息帧和数据帧
  - 二进制协议的好处是可以定义额外的帧，为将来的高级应用打基础。文本的解析比较麻烦，二进制解析方便得多。
- 多路复用（多工：双向的、实时的通信），在一个TCP连接中，客户端和浏览器都可以发送多个请求或回应，而不用按照顺序一一对应，避免了队头阻塞
- 数据流
  - 2的数据包不按顺序发送，而是以数据流（每个请求或回应的所有数据包）的方式发送，每个数据流都有一个唯一的ID，且客户端为奇数，服务端为偶数。
  - 数据流发送到一半时，客户端和服务器都可以发送信号（RST_STREAM帧），取消这个数据流。（1.1取消请求的唯一方式是关闭TCP连接）
  - 客户端可以指定数据流的优先级，优先级越高服务器越早响应
- 头信息压缩
  - HTTP协议是无状态的，每次请求都必须附带所有的信息，因此很多字段是重复的，如Cookie和User Agent的内容是相同的，每次请求都要附带，浪费带宽和速度
  - HTTP/2引入了头信息压缩机制，头信息可以使用gzip或compress压缩后发送，另一方面，客户端和服务器同时维护同一张表，所有字段都会存入这张表，生成一个索引号，以后就不发送同一字段，而是发送索引号即可。
- 服务器推送
  - HTTP/2允许服务器未经请求主动向客户端发送资源（server push）
  - 常见的场景如请求一个网页，网页中包含许多静态资源，而正常情况下需要等到解析HTML时再去发起静态资源的请求，而现在服务器可以预判到客户端请求网页后需要哪些静态资源，连同HTML一起发送到客户端。



<hr/>

## 参考资料来源

- [写给女朋友的中级前端面试秘籍（含详细答案，15k级别）](https://juejin.cn/post/6844904115428917255#heading-25)

- 
